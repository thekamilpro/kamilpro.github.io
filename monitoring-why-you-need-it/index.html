<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Monitoring – why you need it | Kamil Pro</title><meta name=keywords content="monitoring,nagios,readings,zabbix"><meta name=description content="It’s Friday. 5.20PM. So close to the long weekend. Monday is bank holiday – thus three days off. Very happy Friday.
You’re going to the server room to check some minor details. Upon opening the main door, you can feel that cold breeze and characteristic noise of hundreds of spinning fans. You quickly skim through all flashy lights, as it’s a good habit.
And then you notice there’s something wrong. An orange light – why is there an orange light?"><meta name=author content="Kamil"><link rel=canonical href=https://kamilpro.github.io/monitoring-why-you-need-it/><link crossorigin=anonymous href=/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://kamilpro.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://kamilpro.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://kamilpro.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://kamilpro.github.io/apple-touch-icon.png><link rel=mask-icon href=https://kamilpro.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=text/plain href=https://kamilpro.github.io/monitoring-why-you-need-it/index.md><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Monitoring – why you need it"><meta property="og:description" content="It’s Friday. 5.20PM. So close to the long weekend. Monday is bank holiday – thus three days off. Very happy Friday.
You’re going to the server room to check some minor details. Upon opening the main door, you can feel that cold breeze and characteristic noise of hundreds of spinning fans. You quickly skim through all flashy lights, as it’s a good habit.
And then you notice there’s something wrong. An orange light – why is there an orange light?"><meta property="og:type" content="article"><meta property="og:url" content="https://kamilpro.github.io/monitoring-why-you-need-it/"><meta property="og:image" content="https://kamilpro.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-07-09T06:45:00+00:00"><meta property="article:modified_time" content="2022-01-03T19:48:21+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://kamilpro.github.io/logo.png"><meta name=twitter:title content="Monitoring – why you need it"><meta name=twitter:description content="It’s Friday. 5.20PM. So close to the long weekend. Monday is bank holiday – thus three days off. Very happy Friday.
You’re going to the server room to check some minor details. Upon opening the main door, you can feel that cold breeze and characteristic noise of hundreds of spinning fans. You quickly skim through all flashy lights, as it’s a good habit.
And then you notice there’s something wrong. An orange light – why is there an orange light?"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://kamilpro.github.io/posts/"},{"@type":"ListItem","position":3,"name":"Monitoring – why you need it","item":"https://kamilpro.github.io/monitoring-why-you-need-it/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Monitoring – why you need it","name":"Monitoring – why you need it","description":"It’s Friday. 5.20PM. So close to the long weekend. Monday is bank holiday – thus three days off. Very happy Friday.\nYou’re going to the server room to check some minor details. Upon opening the main door, you can feel that cold breeze and characteristic noise of hundreds of spinning fans. You quickly skim through all flashy lights, as it’s a good habit.\nAnd then you notice there’s something wrong. An orange light – why is there an orange light?","keywords":["monitoring","nagios","readings","zabbix"],"articleBody":"It’s Friday. 5.20PM. So close to the long weekend. Monday is bank holiday – thus three days off. Very happy Friday.\nYou’re going to the server room to check some minor details. Upon opening the main door, you can feel that cold breeze and characteristic noise of hundreds of spinning fans. You quickly skim through all flashy lights, as it’s a good habit.\nAnd then you notice there’s something wrong. An orange light – why is there an orange light? Hopefully it’s nothing serious. It’s just above one of the disks. Fuck, it’s the main file server – the one that was meant to be virtulised a long time ago, but for some reason it haven’t happened for over two years.\nAll finance data is on it. And HR. Not to mention sales and marketing guys. It looks like it already picked a hot spare.\nNow it’s coming a reactive part of checking logs, grabbing part number, calling vendor. Depending on luck, you might leave office within one hour from discovery, but until the part arrives, the faulty disk is replaced and data copied – it’s kind of a bad dream.\nWhen did it happen? Problem with manual checks is that they are only valid during the time of the check – all you have is a snapshot of this particular moment in time. If something requiring your attention breaks the moment you leave the premises – it won’t be discovered until the next check. Unless, if it’s very critical problem like whole server going down – then you’ll find out through you customers/users.\nIf your customers are telling you that they can’t access file shares and the Internet, because the only domain controller is down, then this is a very bad position to be in.\nTherefore having a monitoring in place, even if it’s set as rarely as once per hour*, can give you a certain edge.\nWhy did it happen? Depending on how particular system is being used, what level of logging is enabled etc. there might be different number of logs to go through.\nThe problem is that after checking post fact, it might take time to drill through all the logs to find out which exact part and why it failed. It might be required by vendor’s support. It might as well be required by audit trail why certain service wasn’t delivered in accordance with SLA. The point is simple – going through logs is not fun.\nWhat if instead – you had monitoring in place, which would answer that questions straight away?\nOn top of knowing (if you configure it so) almost instantly when something breaks, you will also know why it happened. Monitoring works pretty much like: retrieve status of the device, check what the status is, if it’s not in OK state, shoot out alarm.\nIt obviously depends of how well integrated it is, how documented etc. but the rule of thumb is – if you can retrieve the status, you’re able to monitor it.\nIf it’s that great, can I stop performing manual checks all together? This arguable question, and I say that – even when you trust 100% in your monitoring system, it’s still worth doing manual checks from time to time.\nThe reason is that, there’s always a tiny chance that with some firmware upgrade, or some completely new piece of kit, there was a change which changes how readings are done. It also depends on system you use – if it’s open source or commercial product.\nTypical rules apply – free software requires more of your input, while commercial might be good to go out of the box.\nHow is monitoring performed? Obviously, the monitoring system will not be able to do much if it can’t authenticate to any of the systems. There are various ways, some most popular include:\nSNMP – it’s a standard which has been around for a long time now. It’s very possible that your printer, router, server etc. supports it. This can be used for hardware as well as OS monitoring. Agent – you install an agent compatible with your monitoring system, and that’s the way it can get reading from. API – used with scripted checks. APIs are usually well documented, thus creating a script around it is pretty straight forward. WMI – it used to be one way of monitoring HP Generation 5-9 servers. As WMI can give you a lot of granularity, there’s a lot of information which is hidden from user in graphical tools. You end up really scripting around it. If there’s piece of business important kit that can’t be monitored, I would really question the sense of using it in production.\nOk – this all sounds great – but must be expensive Not at all. I mean it depends on your choice.\nIf at the moment you don’t have any monitoring in place, then there are two free solutions which you can use: Nagios and Zabbix\nNagios Core Nagios Core is an open source version of Nagios. It’s so open source that you need build it from the source code. There are also Docker containers available, but I haven’t used them personally.\nThe main advantage or disadvantage of Nagios is that once installed, you configure it enterly through the text files. It also gives you a lot of freedom of how these files are organised grouped etc. Your role is to point it where files are, and however you configure them is up to you.\nYou can have one massive file for all your computers, network switches etc. Or you can create a folder structure Per Site/Office Location/Particular location. Whatever floats your boat.\nOnce configured, all the readings are available through the website.\nNagios has also been on the market for a long time, thus there’s a strong community full of ready to go monitoring solutions. Nothing obviously stops you from creating your own scripts.\nI’d say, if you like working in command line/code and have plenty of space of how to organise a solution, then Nagios Core will be appealing.\nZabbix Zabbix on the other hand is much more easy to deploy than Nagios. And once installed, it’s configured entirely through the website.\nThe very strong point of Zabbix are its discovery templates – e.g. if you point it to the switch, it will start monitoring all ports on it. If you point it to the ESXi server, it will start monitoring hardware through it, and do readings of all VMs in there. You can also install a Zabbix agent on monitored operating systems.\nThere are also community plugins available for Zabbix, thus extending its capabilities is easy.\nYou can either install Zabbix on Linux, or download a pre-configured appliance – this is really easy way to test the software.\nSo where should you install the monitoring? It should really be on its own physical box. If you have it as VM, and hyper visor dies – then you loose monitoring. Rather than knowing that hyper-visor is down.\nFor convenience, you can configure the monitoring solution as VM, and once happy with it, V2P it to the actual physical box.\nAnd when configuring monitoring, you must always do it from monitoring’s point of view. E.g. if the monitoring is in network, can it get across to the other subnet? Where is the gateway, so that it can check if the Internet is working? Will be able to notify you if the Internet is actually down?\nReady for a better night’s sleep? I hope it’s a no brainer to you now that monitoring should be first place for your work.\nHaving a peace of mind that stuff you’re responsible for is being constantly check for it’s condition, can really improve your overall stress level.\nAnd hey, you’ve also got more time as manual checks are not needed any more, what are you going to do about it?\n*Depending on software you use, you might be able to pull data once every five seconds. The point here is that there’s something in the background that does these checks constantly, so that you don’t need worry about it. Imagine knowing that something broke within one hour, rather than one month.\nPhoto by Artur Łuczka on Unsplash\n","wordCount":"1376","inLanguage":"en","datePublished":"2019-07-09T06:45:00Z","dateModified":"2022-01-03T19:48:21Z","author":{"@type":"Person","name":"Kamil"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://kamilpro.github.io/monitoring-why-you-need-it/"},"publisher":{"@type":"Organization","name":"Kamil Pro","logo":{"@type":"ImageObject","url":"https://kamilpro.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://kamilpro.github.io accesskey=h title="Kamil Pro (Alt + H)">Kamil Pro</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://kamilpro.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://kamilpro.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://kamilpro.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href="https://www.youtube.com/playlist?list=PL-esmhgrps8Zv9bAHesStPRQ1AiUL1wY3" title="About PowerShell"><span>About PowerShell</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://kamilpro.github.io/powershell-for-it-professionals/ title="Powershell for IT professionals"><span>Powershell for IT professionals</span></a></li><li><a href=https://github.com/thekamilpro title=GitHub><span><i class='fab fa-github fa-fw'></i></span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Monitoring – why you need it</h1><div class=post-meta><span title='2019-07-09 06:45:00 +0000 UTC'>2019-07-09</span>&nbsp;·&nbsp;Kamil</div></header><div class=post-content><p>It’s Friday. 5.20PM. So close to the long weekend. Monday is bank holiday – thus three days off. Very happy Friday.</p><p>You’re going to the server room to check some minor details. Upon opening the main door, you can feel that cold breeze and characteristic noise of hundreds of spinning fans. You quickly skim through all flashy lights, as it’s a good habit.</p><p>And then you notice there’s something wrong. An orange light – why is there an orange light? Hopefully it’s nothing serious. It’s just above one of the disks. Fuck, it’s the main file server – the one that was meant to be virtulised a long time ago, but for some reason it haven’t happened for over two years.</p><p>All finance data is on it. And HR. Not to mention sales and marketing guys. It looks like it already picked a hot spare.</p><p>Now it’s coming a reactive part of checking logs, grabbing part number, calling vendor. Depending on luck, you might leave office within one hour from discovery, but until the part arrives, the faulty disk is replaced and data copied – it’s kind of a bad dream.</p><h2 id=when-did-it-happen>When did it happen?<a hidden class=anchor aria-hidden=true href=#when-did-it-happen>#</a></h2><p>Problem with manual checks is that they are only valid during the time of the check – all you have is a snapshot of this particular moment in time. If something requiring your attention breaks the moment you leave the premises – it won’t be discovered until the next check. Unless, if it’s very critical problem like whole server going down – then you’ll find out through you customers/users.</p><p>If your customers are telling you that they can’t access file shares and the Internet, because the only domain controller is down, then <strong>this is a very bad position to be in</strong>.</p><p>Therefore having a monitoring in place, even if it’s set as rarely as once per hour*, can give you a certain edge.</p><h2 id=why-did-it-happen>Why did it happen?<a hidden class=anchor aria-hidden=true href=#why-did-it-happen>#</a></h2><p>Depending on how particular system is being used, what level of logging is enabled etc. there might be different number of logs to go through.</p><p>The problem is that after checking post fact, it might take time to drill through all the logs to find out which exact part and why it failed. It might be required by vendor’s support. It might as well be required by audit trail why certain service wasn’t delivered in accordance with SLA. The point is simple – going through logs is not fun.</p><p>What if instead – you had monitoring in place, which would answer that questions straight away?</p><p>On top of knowing (if you configure it so) almost instantly when something breaks, you will also know why it happened. Monitoring works pretty much like: retrieve status of the device, check what the status is, if it’s not in OK state, shoot out alarm.</p><p>It obviously depends of how well integrated it is, how documented etc. but the rule of thumb is – if you can retrieve the status, you’re able to monitor it.</p><h2 id=if-it8217s-that-great-can-i-stop-performing-manual-checks-all-together>If it’s that great, can I stop performing manual checks all together?<a hidden class=anchor aria-hidden=true href=#if-it8217s-that-great-can-i-stop-performing-manual-checks-all-together>#</a></h2><p>This arguable question, and I say that – even when you trust 100% in your monitoring system, it’s still worth doing manual checks from time to time.</p><p>The reason is that, there’s always a tiny chance that with some firmware upgrade, or some completely new piece of kit, there was a change which changes how readings are done. It also depends on system you use – if it’s open source or commercial product.</p><p>Typical rules apply – free software requires more of your input, while commercial might be good to go out of the box.</p><h2 id=how-is-monitoring-performed>How is monitoring performed?<a hidden class=anchor aria-hidden=true href=#how-is-monitoring-performed>#</a></h2><p>Obviously, the monitoring system will not be able to do much if it can’t authenticate to any of the systems. There are various ways, some most popular include:</p><ul><li>SNMP – it’s a standard which has been around for a long time now. It’s very possible that your printer, router, server etc. supports it. This can be used for hardware as well as OS monitoring.</li><li>Agent – you install an agent compatible with your monitoring system, and that’s the way it can get reading from.</li><li>API – used with scripted checks. APIs are usually well documented, thus creating a script around it is pretty straight forward.</li><li>WMI – it used to be one way of monitoring HP Generation 5-9 servers. As WMI can give you a lot of granularity, there’s a lot of information which is hidden from user in graphical tools. You end up really scripting around it.</li></ul><p>If there’s piece of business important kit that can’t be monitored, I would really question the sense of using it in production.</p><h2 id=ok-8211-this-all-sounds-great-8211-but-must-be-expensive>Ok – this all sounds great – but must be expensive<a hidden class=anchor aria-hidden=true href=#ok-8211-this-all-sounds-great-8211-but-must-be-expensive>#</a></h2><p>Not at all. I mean it depends on your choice.</p><p>If at the moment you don’t have any monitoring in place, then there are two free solutions which you can use: <a href=https://www.nagios.com/products/nagios-core/>Nagios</a> and <a href=https://www.zabbix.com/>Zabbix</a></p><h3 id=nagios-core>Nagios Core<a hidden class=anchor aria-hidden=true href=#nagios-core>#</a></h3><p>Nagios Core is an open source version of Nagios. It’s so open source that you need build it from the source code. There are also Docker containers available, but I haven’t used them personally.</p><p>The main advantage or disadvantage of Nagios is that once installed, you configure it enterly through the text files. It also gives you a lot of freedom of how these files are organised grouped etc. Your role is to point it where files are, and however you configure them is up to you.</p><p>You can have one massive file for all your computers, network switches etc. Or you can create a folder structure Per Site/Office Location/Particular location. Whatever floats your boat.</p><p>Once configured, all the readings are available through the website.</p><p>Nagios has also been on the market for a long time, thus there’s a strong community full of ready to go monitoring solutions. Nothing obviously stops you from creating your own scripts.</p><p>I’d say, if you like working in command line/code and have plenty of space of how to organise a solution, then Nagios Core will be appealing.</p><h3 id=zabbix>Zabbix<a hidden class=anchor aria-hidden=true href=#zabbix>#</a></h3><p>Zabbix on the other hand is much more easy to deploy than Nagios. And once installed, it’s configured entirely through the website.</p><p>The very strong point of Zabbix are its discovery templates – e.g. if you point it to the switch, it will start monitoring all ports on it. If you point it to the ESXi server, it will start monitoring hardware through it, and do readings of all VMs in there. You can also install a Zabbix agent on monitored operating systems.</p><p>There are also community plugins available for Zabbix, thus extending its capabilities is easy.</p><p>You can either install Zabbix on Linux, or download a pre-configured appliance – this is really easy way to test the software.</p><h2 id=so-where-should-you-install-the-monitoring>So where should you install the monitoring?<a hidden class=anchor aria-hidden=true href=#so-where-should-you-install-the-monitoring>#</a></h2><p>It should really be on its own physical box. If you have it as VM, and hyper visor dies – then you loose monitoring. Rather than knowing that hyper-visor is down.</p><p>For convenience, you can configure the monitoring solution as VM, and once happy with it, V2P it to the actual physical box.</p><p>And when configuring monitoring, you must always do it from monitoring’s point of view. E.g. if the monitoring is in network, can it get across to the other subnet? Where is the gateway, so that it can check if the Internet is working? Will be able to notify you if the Internet is actually down?</p><h2 id=ready-for-a-better-night8217s-sleep>Ready for a better night’s sleep?<a hidden class=anchor aria-hidden=true href=#ready-for-a-better-night8217s-sleep>#</a></h2><p>I hope it’s a no brainer to you now that monitoring should be first place for your work.</p><p>Having a peace of mind that stuff you’re responsible for is being constantly check for it’s condition, can really improve your overall stress level.</p><p>And hey, you’ve also got more time as manual checks are not needed any more, what are you going to do about it?</p><p>*Depending on <g class="gr_ gr\_6 gr-alert gr\_gramm gr\_inline\_cards gr\_run\_anim Grammar only-ins replaceWithoutSep" id=6 data-gr-id=6>software</g> you use, you might be able to pull data once every five seconds. The point here is that there’s something in the background that does these checks <g class="gr_ gr\_8 gr-alert gr\_gramm gr\_inline\_cards gr\_run\_anim Punctuation only-del replaceWithoutSep" id=8 data-gr-id=8>constantly,</g> so that you don’t <g class="gr_ gr\_7 gr-alert gr\_gramm gr\_inline\_cards gr\_run\_anim Grammar only-ins replaceWithoutSep" id=7 data-gr-id=7>need</g> worry about it. Imagine knowing that something broke within one hour, rather than one month.</p><p>Photo by <a href="https://unsplash.com/@artur_luczka?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Artur Łuczka</a> on <a href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://kamilpro.github.io/tags/monitoring/>monitoring</a></li><li><a href=https://kamilpro.github.io/tags/nagios/>nagios</a></li><li><a href=https://kamilpro.github.io/tags/readings/>readings</a></li><li><a href=https://kamilpro.github.io/tags/zabbix/>zabbix</a></li></ul></footer></article></main><footer class=footer><span>Kamil Procyszyn</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>