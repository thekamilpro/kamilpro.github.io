<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Monitoring – why you need it - Kamil Procyszyn</title><meta name=Description content="Sysadmin's point of view"><meta property="og:title" content="Monitoring – why you need it"><meta property="og:description" content="It’s Friday. 5.20PM. So close to the long weekend. Monday is bank holiday – thus three days off. Very happy Friday.
You’re going to the server room to check some minor details. Upon opening the main door, you can feel that cold breeze and characteristic noise of hundreds of spinning fans. You quickly skim through all flashy lights, as it’s a good habit.
And then you notice there’s something wrong. An orange light – why is there an orange light?"><meta property="og:type" content="article"><meta property="og:url" content="https://kprocyszyn.github.io/monitoring-why-you-need-it/"><meta property="og:image" content="https://kprocyszyn.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-07-09T06:45:00+00:00"><meta property="article:modified_time" content="2022-01-03T19:48:21+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://kprocyszyn.github.io/logo.png"><meta name=twitter:title content="Monitoring – why you need it"><meta name=twitter:description content="It’s Friday. 5.20PM. So close to the long weekend. Monday is bank holiday – thus three days off. Very happy Friday.
You’re going to the server room to check some minor details. Upon opening the main door, you can feel that cold breeze and characteristic noise of hundreds of spinning fans. You quickly skim through all flashy lights, as it’s a good habit.
And then you notice there’s something wrong. An orange light – why is there an orange light?"><meta name=application-name content="Kamil Procyszyn"><meta name=apple-mobile-web-app-title content="Kamil Procyszyn"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://kprocyszyn.github.io/monitoring-why-you-need-it/><link rel=prev href=https://kprocyszyn.github.io/the-automation-process-stages/><link rel=next href=https://kprocyszyn.github.io/restarting-vss-writers-with-powershell-script/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><meta name=google-site-verification content="NniR9DFiwo_hSUsjXQj7xw3IHmRtl0ICeu4UmstK680"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Monitoring – why you need it","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/kprocyszyn.github.io\/monitoring-why-you-need-it\/"},"image":["https:\/\/kprocyszyn.github.io\/images\/Apple-Devices-Preview.png"],"genre":"posts","keywords":"monitoring, nagios, readings, zabbix","wordcount":1376,"url":"https:\/\/kprocyszyn.github.io\/monitoring-why-you-need-it\/","datePublished":"2019-07-09T06:45:00+00:00","dateModified":"2022-01-03T19:48:21+00:00","license":"Kamil Procyszyn","publisher":{"@type":"Organization","name":"Kamil Procyszyn","logo":{"@type":"ImageObject","url":"https:\/\/kprocyszyn.github.io\/images\/avatar.png","width":150,"height":150}},"author":{"@type":"Person","name":"Kamil"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Kamil Procyszyn">Kamil Procyszyn<span class=header-title-post><i class="fas fa-terminal"></i></span></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><a class=menu-item href=/powershell-for-it-professionals/>Powershell for IT professionals </a><a class=menu-item href=/about/>About </a><a class=menu-item href=https://github.com/kprocyszyn title=GitHub rel="noopener noreffer" target=_blank><i class="fab fa-github fa-fw"></i> </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Kamil Procyszyn">Kamil Procyszyn<span class=header-title-post><i class="fas fa-terminal"></i></span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/categories/ title>Categories</a><a class=menu-item href=/powershell-for-it-professionals/ title>Powershell for IT professionals</a><a class=menu-item href=/about/ title>About</a><a class=menu-item href=https://github.com/kprocyszyn title=GitHub rel="noopener noreffer" target=_blank><i class="fab fa-github fa-fw"></i></a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">Monitoring – why you need it</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>Kamil</a></span>&nbsp;<span class=post-category>included in <a href=/categories/it/><i class="far fa-folder fa-fw"></i>IT</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2019-07-09>2019-07-09</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;1376 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;7 minutes&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/wp-content/uploads/2019/07/artur-luczka-qhG6Xde9lCQ-unsplash.jpg data-srcset="/wp-content/uploads/2019/07/artur-luczka-qhG6Xde9lCQ-unsplash.jpg, /wp-content/uploads/2019/07/artur-luczka-qhG6Xde9lCQ-unsplash.jpg 1.5x, /wp-content/uploads/2019/07/artur-luczka-qhG6Xde9lCQ-unsplash.jpg 2x" data-sizes=auto alt=/wp-content/uploads/2019/07/artur-luczka-qhG6Xde9lCQ-unsplash.jpg title=/wp-content/uploads/2019/07/artur-luczka-qhG6Xde9lCQ-unsplash.jpg></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#when-did-it-happen>When did it happen?</a></li><li><a href=#why-did-it-happen>Why did it happen?</a></li><li><a href=#if-it8217s-that-great-can-i-stop-performing-manual-checks-all-together>If it’s that great, can I stop performing manual checks all together?</a></li><li><a href=#how-is-monitoring-performed>How is monitoring performed?</a></li><li><a href=#ok-8211-this-all-sounds-great-8211-but-must-be-expensive>Ok – this all sounds great – but must be expensive</a><ul><li><a href=#nagios-core>Nagios Core</a></li><li><a href=#zabbix>Zabbix</a></li></ul></li><li><a href=#so-where-should-you-install-the-monitoring>So where should you install the monitoring?</a></li><li><a href=#ready-for-a-better-night8217s-sleep>Ready for a better night’s sleep?</a></li></ul></nav></div></div><div class=content id=content><p>It’s Friday. 5.20PM. So close to the long weekend. Monday is bank holiday – thus three days off. Very happy Friday.</p><p>You’re going to the server room to check some minor details. Upon opening the main door, you can feel that cold breeze and characteristic noise of hundreds of spinning fans. You quickly skim through all flashy lights, as it’s a good habit.</p><p>And then you notice there’s something wrong. An orange light – why is there an orange light? Hopefully it’s nothing serious. It’s just above one of the disks. Fuck, it’s the main file server – the one that was meant to be virtulised a long time ago, but for some reason it haven’t happened for over two years.</p><p>All finance data is on it. And HR. Not to mention sales and marketing guys. It looks like it already picked a hot spare.</p><p>Now it’s coming a reactive part of checking logs, grabbing part number, calling vendor. Depending on luck, you might leave office within one hour from discovery, but until the part arrives, the faulty disk is replaced and data copied – it’s kind of a bad dream.</p><h2 id=when-did-it-happen>When did it happen?</h2><p>Problem with manual checks is that they are only valid during the time of the check – all you have is a snapshot of this particular moment in time. If something requiring your attention breaks the moment you leave the premises – it won’t be discovered until the next check. Unless, if it’s very critical problem like whole server going down – then you’ll find out through you customers/users.</p><p>If your customers are telling you that they can’t access file shares and the Internet, because the only domain controller is down, then <strong>this is a very bad position to be in</strong>.</p><p>Therefore having a monitoring in place, even if it’s set as rarely as once per hour*, can give you a certain edge.</p><h2 id=why-did-it-happen>Why did it happen?</h2><p>Depending on how particular system is being used, what level of logging is enabled etc. there might be different number of logs to go through.</p><p>The problem is that after checking post fact, it might take time to drill through all the logs to find out which exact part and why it failed. It might be required by vendor’s support. It might as well be required by audit trail why certain service wasn’t delivered in accordance with SLA. The point is simple – going through logs is not fun.</p><p>What if instead – you had monitoring in place, which would answer that questions straight away?</p><p>On top of knowing (if you configure it so) almost instantly when something breaks, you will also know why it happened. Monitoring works pretty much like: retrieve status of the device, check what the status is, if it’s not in OK state, shoot out alarm.</p><p>It obviously depends of how well integrated it is, how documented etc. but the rule of thumb is – if you can retrieve the status, you’re able to monitor it.</p><h2 id=if-it8217s-that-great-can-i-stop-performing-manual-checks-all-together>If it’s that great, can I stop performing manual checks all together?</h2><p>This arguable question, and I say that – even when you trust 100% in your monitoring system, it’s still worth doing manual checks from time to time.</p><p>The reason is that, there’s always a tiny chance that with some firmware upgrade, or some completely new piece of kit, there was a change which changes how readings are done. It also depends on system you use – if it’s open source or commercial product.</p><p>Typical rules apply – free software requires more of your input, while commercial might be good to go out of the box.</p><h2 id=how-is-monitoring-performed>How is monitoring performed?</h2><p>Obviously, the monitoring system will not be able to do much if it can’t authenticate to any of the systems. There are various ways, some most popular include:</p><ul><li>SNMP – it’s a standard which has been around for a long time now. It’s very possible that your printer, router, server etc. supports it. This can be used for hardware as well as OS monitoring.</li><li>Agent – you install an agent compatible with your monitoring system, and that’s the way it can get reading from.</li><li>API – used with scripted checks. APIs are usually well documented, thus creating a script around it is pretty straight forward.</li><li>WMI – it used to be one way of monitoring HP Generation 5-9 servers. As WMI can give you a lot of granularity, there’s a lot of information which is hidden from user in graphical tools. You end up really scripting around it.</li></ul><p>If there’s piece of business important kit that can’t be monitored, I would really question the sense of using it in production.</p><h2 id=ok-8211-this-all-sounds-great-8211-but-must-be-expensive>Ok – this all sounds great – but must be expensive</h2><p>Not at all. I mean it depends on your choice.</p><p>If at the moment you don’t have any monitoring in place, then there are two free solutions which you can use: <a href=https://www.nagios.com/products/nagios-core/ target=_blank rel="noopener noreffer">Nagios</a> and <a href=https://www.zabbix.com/ target=_blank rel="noopener noreffer">Zabbix</a></p><h3 id=nagios-core>Nagios Core</h3><p>Nagios Core is an open source version of Nagios. It’s so open source that you need build it from the source code. There are also Docker containers available, but I haven’t used them personally.</p><p>The main advantage or disadvantage of Nagios is that once installed, you configure it enterly through the text files. It also gives you a lot of freedom of how these files are organised grouped etc. Your role is to point it where files are, and however you configure them is up to you.</p><p>You can have one massive file for all your computers, network switches etc. Or you can create a folder structure Per Site/Office Location/Particular location. Whatever floats your boat.</p><p>Once configured, all the readings are available through the website.</p><p>Nagios has also been on the market for a long time, thus there’s a strong community full of ready to go monitoring solutions. Nothing obviously stops you from creating your own scripts.</p><p>I’d say, if you like working in command line/code and have plenty of space of how to organise a solution, then Nagios Core will be appealing.</p><h3 id=zabbix>Zabbix</h3><p>Zabbix on the other hand is much more easy to deploy than Nagios. And once installed, it’s configured entirely through the website.</p><p>The very strong point of Zabbix are its discovery templates – e.g. if you point it to the switch, it will start monitoring all ports on it. If you point it to the ESXi server, it will start monitoring hardware through it, and do readings of all VMs in there. You can also install a Zabbix agent on monitored operating systems.</p><p>There are also community plugins available for Zabbix, thus extending its capabilities is easy.</p><p>You can either install Zabbix on Linux, or download a pre-configured appliance – this is really easy way to test the software.</p><h2 id=so-where-should-you-install-the-monitoring>So where should you install the monitoring?</h2><p>It should really be on its own physical box. If you have it as VM, and hyper visor dies – then you loose monitoring. Rather than knowing that hyper-visor is down.</p><p>For convenience, you can configure the monitoring solution as VM, and once happy with it, V2P it to the actual physical box.</p><p>And when configuring monitoring, you must always do it from monitoring’s point of view. E.g. if the monitoring is in network, can it get across to the other subnet? Where is the gateway, so that it can check if the Internet is working? Will be able to notify you if the Internet is actually down?</p><h2 id=ready-for-a-better-night8217s-sleep>Ready for a better night’s sleep?</h2><p>I hope it’s a no brainer to you now that monitoring should be first place for your work.</p><p>Having a peace of mind that stuff you’re responsible for is being constantly check for it’s condition, can really improve your overall stress level.</p><p>And hey, you’ve also got more time as manual checks are not needed any more, what are you going to do about it?</p><p>*Depending on <g class="gr_ gr\_6 gr-alert gr\_gramm gr\_inline\_cards gr\_run\_anim Grammar only-ins replaceWithoutSep" id=6 data-gr-id=6>software</g> you use, you might be able to pull data once every five seconds. The point here is that there’s something in the background that does these checks <g class="gr_ gr\_8 gr-alert gr\_gramm gr\_inline\_cards gr\_run\_anim Punctuation only-del replaceWithoutSep" id=8 data-gr-id=8>constantly,</g> so that you don’t <g class="gr_ gr\_7 gr-alert gr\_gramm gr\_inline\_cards gr\_run\_anim Grammar only-ins replaceWithoutSep" id=7 data-gr-id=7>need</g> worry about it. Imagine knowing that something broke within one hour, rather than one month.</p><p>Photo by <a href="https://unsplash.com/@artur_luczka?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText" target=_blank rel="noopener noreffer">Artur Łuczka</a> on <a href="https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText" target=_blank rel="noopener noreffer">Unsplash</a></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2022-01-03&nbsp;<a class=git-hash href=https://github.com/kprocyszyn/commit/dfb5243d796d93396da474840d2b2063421897ad target=_blank title="commit by Kamil Procyszyn(kprocyszyn@gmail.com) dfb5243d796d93396da474840d2b2063421897ad: Add featured images">
<i class="fas fa-hashtag fa-fw"></i>dfb5243</a></span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/monitoring-why-you-need-it/index.md target=_blank>Read Markdown</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://kprocyszyn.github.io/monitoring-why-you-need-it/ data-title="Monitoring – why you need it" data-via=@kprocyszyn data-hashtags=monitoring,nagios,readings,zabbix><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://kprocyszyn.github.io/monitoring-why-you-need-it/ data-hashtag=monitoring><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://kprocyszyn.github.io/monitoring-why-you-need-it/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on WhatsApp" data-sharer=whatsapp data-url=https://kprocyszyn.github.io/monitoring-why-you-need-it/ data-title="Monitoring – why you need it" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://kprocyszyn.github.io/monitoring-why-you-need-it/ data-title="Monitoring – why you need it"><i class="fab fa-hacker-news fa-fw"></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=https://kprocyszyn.github.io/monitoring-why-you-need-it/><i class="fab fa-reddit fa-fw"></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://kprocyszyn.github.io/monitoring-why-you-need-it/ data-title="Monitoring – why you need it" data-image=/wp-content/uploads/2019/07/artur-luczka-qhG6Xde9lCQ-unsplash.jpg><i class="fab fa-weibo fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/monitoring/>monitoring</a>,&nbsp;<a href=/tags/nagios/>nagios</a>,&nbsp;<a href=/tags/readings/>readings</a>,&nbsp;<a href=/tags/zabbix/>zabbix</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/the-automation-process-stages/ class=prev rel=prev title="The automation process stages"><i class="fas fa-angle-left fa-fw"></i>The automation process stages</a>
<a href=/restarting-vss-writers-with-powershell-script/ class=next rel=next title="Restarting VSS Writers with PowerShell script">Restarting VSS Writers with PowerShell script<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments><div id=utterances></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://utteranc.es/>Utterances</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.98.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2014 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>Kamil Procyszyn</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.8/lunr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:10},comment:{utterances:{darkTheme:"github-dark",issueTerm:"pathname",label:"Comment",lightTheme:"github-light",repo:"kprocyszyn/kprocyszyn.github.io"}},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-64576368-1",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-64576368-1" async></script></body></html>