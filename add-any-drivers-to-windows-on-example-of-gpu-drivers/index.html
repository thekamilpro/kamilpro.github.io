<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Add any drivers to Windows – on example of GPU drivers | Kamil Pro</title>
<meta name=keywords content="custom,deployment,driver,image,Windows"><meta name=description content="Today we are going to inject drivers into the Windows image with the help of built-in tools in Windows.
What do you need? Just a few things:
Any hardware to which you’d like drivers to be added to Reference computer with the hardware attached to it Drivers Windows image which is going to be deployed I think there’s not much to explain, so let’s analyse the actual process.
What we are going to do?"><meta name=author content="Kamil"><link rel=canonical href=https://kamilpro.com/add-any-drivers-to-windows-on-example-of-gpu-drivers/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://kamilpro.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://kamilpro.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://kamilpro.com/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://kamilpro.com/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://kamilpro.com/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-5Q7PS37F1K"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-5Q7PS37F1K",{anonymize_ip:!1})}</script><meta property="og:title" content="Add any drivers to Windows – on example of GPU drivers"><meta property="og:description" content="Today we are going to inject drivers into the Windows image with the help of built-in tools in Windows.
What do you need? Just a few things:
Any hardware to which you’d like drivers to be added to Reference computer with the hardware attached to it Drivers Windows image which is going to be deployed I think there’s not much to explain, so let’s analyse the actual process.
What we are going to do?"><meta property="og:type" content="article"><meta property="og:url" content="https://kamilpro.com/add-any-drivers-to-windows-on-example-of-gpu-drivers/"><meta property="og:image" content="https://kamilpro.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-05-29T18:53:05+00:00"><meta property="article:modified_time" content="2017-05-29T18:53:05+00:00"><meta property="og:site_name" content="Kamil Pro"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://kamilpro.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Add any drivers to Windows – on example of GPU drivers"><meta name=twitter:description content="Today we are going to inject drivers into the Windows image with the help of built-in tools in Windows.
What do you need? Just a few things:
Any hardware to which you’d like drivers to be added to Reference computer with the hardware attached to it Drivers Windows image which is going to be deployed I think there’s not much to explain, so let’s analyse the actual process.
What we are going to do?"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://kamilpro.com/posts/"},{"@type":"ListItem","position":2,"name":"Add any drivers to Windows – on example of GPU drivers","item":"https://kamilpro.com/add-any-drivers-to-windows-on-example-of-gpu-drivers/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Add any drivers to Windows – on example of GPU drivers","name":"Add any drivers to Windows – on example of GPU drivers","description":"Today we are going to inject drivers into the Windows image with the help of built-in tools in Windows.\nWhat do you need? Just a few things:\nAny hardware to which you’d like drivers to be added to Reference computer with the hardware attached to it Drivers Windows image which is going to be deployed I think there’s not much to explain, so let’s analyse the actual process.\nWhat we are going to do?","keywords":["custom","deployment","driver","image","Windows"],"articleBody":"Today we are going to inject drivers into the Windows image with the help of built-in tools in Windows.\nWhat do you need? Just a few things:\nAny hardware to which you’d like drivers to be added to Reference computer with the hardware attached to it Drivers Windows image which is going to be deployed I think there’s not much to explain, so let’s analyse the actual process.\nWhat we are going to do? The problem with drivers is that they are often provided as one installation file which contains drivers with self installing package, which is convenient for a single user, but not for us, sysadmins.\nI’ll show you on the example of GeForce drivers how to get and add drivers for your Windows image.\nTherefore, we’re going to play smart, as always:\nObtain the drivers Extract the drivers so that we have access to *.inf files Install the drivers to the actual Windows installation Export installed drivers Add exported drivers to the image Sounds good? Ready, steady, ENTER!\nOn your reference computer Make sure that you have the relevant OS version. If you aim to add drivers to Windows 10, have a Windows 10 ready on your reference computer. It might be possible to have a cross Windows version drivers, but you’d need to test it thoroughly. I’ve seen many misbehaving computers just because of wrong drivers used with them.\nYou must plug-in the actual hardware to your reference computer. Very often single installation file contains multiple drivers used with multiple devices, and Windows will pick and install only the necessary ones.\nObtaining the drivers The easiest way to get latest drivers is to get them from the manufacturer’s website, for your convenience I put links to NVidia, AMD and Intel drivers websites:\nNVidia GeForce – http://www.nvidia.com/Download/index.aspx\nAMD Radeon – http://support.amd.com/en-us/download\nIntel – https://downloadcenter.intel.com/product/80939/Graphics-Drivers\nMake sure you pick the appropriate Windows and hardware versions.\nExtract *.INF files Now we need to do something the usual user never does – intercept *.inf files which will allow us to add the drivers to the image. If your hardware manufacturer was nice to sysadmins – by that I mean they provided already the *.inf files then simply skip this step.\nOtherwise, there are 2 main ways of doing so.\nGet drivers extracted during the installation If, like in my example, drivers came prepackaged, you run the installation file. On the first screen I can see (and choose) where the installation files are going to be extracted.\nI confirm where they’re going to be extracted, hit OK and once the extraction process has been completed – I don’t proceed with installation, not yet! Just let it be for time being.\nInstead, I go to location where drivers were extracted and copy these files somewhere else.\nExtract the files yourself Sometimes you’re not offered with the extraction option and might need to do it yourself. For that purpose you’d need to use an archiver manager like 7-zip. Once installed, use 7-zip to open the installation file, and if you can find *.inf files inside, extract everything where needed.\n7-zip download page: http://www.7-zip.org/download.html\nIf the above ways failed Then manufacturer for some reason made it difficult to you, but we still have a few ways of tracking where the actual files went.\nYou can often find files in:\nRoot of system drive Root of other partition In Windows\\Temp directory While browsing through the folders set your folder view to details and make the most recent files appear on top. You can even use Windows Search and specify last modification time to when you start installation and search for *.inf files.\nFinally, you can use resource monitor to track where installation files makes changes to the hard drive.\nYou can also, export already installed drivers. While it’s really convenient, it’s not always that easy to find all drivers once deployed. I always would like you to have a full picture of the whole process.\nInstall the drivers Now we can carry on with installation. But before doing so, I’d like you to open C:\\Windows\\System32\\DriverStore\\FileRepository folder and sort folders by “Date modified”, with the most recent on top. Note the time when you start the installation.\nOnce the installation of your drivers is commenced, you will notice as new folders are being created – these are drivers needed by your hardware. You can open these folders and see that there are plenty of files.\nYou can notice that those folders have a naming convention – name.infarchitecturerandomnumbers. You’re after the green part – name.inf That’s the name of the *.inf file you’d like to add to the image from your source folder – I’d like you to take a note of the green part of the name, as this will be essential to the next step.\nI started installation of driver just after 22:20 on 24th of May, and as you can see I’ve highlighted the folders created just after that time. The files I’m going to look for are:\nNv_dispi.inf Basicrender.inf Nvstusb.inf Nvhda.inf If you’ve read my post about Mastering PNPUTIL, then you’ll know how to use this tool to add drivers to your image. Otherwise, stay with me.\nOn your Windows image Let’s armour now the image in the right drivers we’ve just acquired. You will obviously need to make them available to the image, either by shared folder or copy/paste. I simply copied all installation files to C:\\Temp\\NVidia folder. Keep this folder open as we’re going to need it very soon. Like in 2 paragraphs soon.\nI’m going to show you now 2 ways of installing drivers – with GUI and command line.\nOn the side note: if you’d like to confirm the files are being added to the driver store, simply open another Windows Explorer window and head towards C:\\Windows\\System32\\DriverStore\\FileRepository like you did on your physical machine as you did before.\nAdd drivers with GUI While still in the folder with the drivers, simply type in the Search Box the filename of the first *.inf file of which I’ve asked you earlier on. In my case it is: Nv_dispi.inf. It should show up only one file. Now you’d like to right click the file, and choose Install.\nOnce completed you should receive a message stating that operation was successful.\nRepeat the process for all drivers you need and that’s it – your image will come with drivers and system will install them automatically when hardware is detected.\nYou can confirm it by either going to FileRepository folder or Issuing pnputil.exe /e command in command prompt.\nAdd drivers with Command prompt – PNPUTIL This way is slightly more complicated, nevertheless, let’s have a fun!\nOpen elevated command prompt and use change directory to where your drivers are. In my case I issued the command CD C:\\Temp\\Nvidia Now type pnputil -a filename.inf /subdirs. In my case, it was pnputil -a nvstusb.inf /subdir This will tell PNPUTIL to search for this particular file in all sub directories of the current folder. You should receive a message stating something like:Microsoft PnP UtilityProcessing inf : NV3DVisionUSB.Driver\\nvstusb.inf\nDriver package added successfully.\nPublished name : oem20.infTotal attempted: 1\nNumber successfully imported: 1 Repeat step 2 for all the files needed. That’s pretty much it.\nYour image has just got better! Deploying drivers had always been a mission before I’ve figured out the way I had shown you above. While there are some tools/scripts which can deliver the drivers in one way or another (and with the tools there is always a question of how reliable the tool is) having drivers injected to the image will always ensure the hardware is operational straight after deployment.\nThe 2 drawbacks of the whole process in the matter are: having a larger image and updating the drivers on the image. While the size and deployment time shouldn’t be a big deal nowadays, keeping up-to-date images is probably your responsibility after all. Not to mention the time saved for troubleshooting as this method works always, 100%, positive.\nDid you enjoy reading the post or found it useful? I’m really keen to know! Let me know below in the comments section.\nI’ve spent hours searching a way/tool capable of fully automatic drivers deployment to the computers of different hardware specs. I ended it up analysing and figuring out all this myself.\nTips If you can’t get the installation files of drivers, but you’ve got already a system where this hardware works, you can export by: open device manager identify the device you’d need the drivers for. Double click on it, choose Details tab and choose “inf name” from property drop down menu, note down the OemXX.inf file name. Create a folder, e.g. C:\\Temp. Then open elevated command prompt and type **pnputil /export-driver OemXX.inf C:\\Temp **You can copy exported file to the missing computer and install them like we did before. If you’ve added the wrong driver, use PNPUTIL /delete-driver OemXX.inf /force to remove it from the driver store. If after the installations of the drivers you cannot find some folders in the installation files (e.g. basicrender.inf) then don’t worry – these files might be default for Windows and system might use the while installing new drivers. Someone can say, that you could use PNPUTIL to add all files *.INF to the driver store, but by the time when the actual process ends, you’ll notice that your driver store folder has swelled multiple times (in my case, that was 10GB after adding all *.INF files from GeForce folder!), containing many drivers which you actually don’t need. Main photo by Jeff Sheldon.\n","wordCount":"1594","inLanguage":"en","datePublished":"2017-05-29T18:53:05Z","dateModified":"2017-05-29T18:53:05Z","author":{"@type":"Person","name":"Kamil"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://kamilpro.com/add-any-drivers-to-windows-on-example-of-gpu-drivers/"},"publisher":{"@type":"Organization","name":"Kamil Pro","logo":{"@type":"ImageObject","url":"https://kamilpro.com/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://kamilpro.com/ accesskey=h title="Home (Alt + H)"><img src=https://kamilpro.com/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://kamilpro.com/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://kamilpro.com/about-powershell/ title="About PowerShell"><span>About PowerShell</span></a></li><li><a href=https://kamilpro.com/powershell-course/ title="PowerShell Course"><span>PowerShell Course</span></a></li><li><a href=https://kamilpro.com/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://kamilpro.com/>Home</a>&nbsp;»&nbsp;<a href=https://kamilpro.com/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Add any drivers to Windows – on example of GPU drivers</h1><div class=post-meta><span title='2017-05-29 18:53:05 +0000 UTC'>29 May 2017</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;1594 words&nbsp;·&nbsp;Kamil&nbsp;|&nbsp;<a href=https://github.com/thekamilpro/kamilpro.github.io/tree/main/content/posts/2017/2017-05-29-add-any-drivers-to-windows-on-example-of-gpu-drivers.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>Today we are going to inject drivers into the Windows image with the help of built-in tools in Windows.</p><h1 id=what-do-you-need>What do you need?<a hidden class=anchor aria-hidden=true href=#what-do-you-need>#</a></h1><p>Just a few things:</p><ul><li>Any hardware to which you’d like drivers to be added to</li><li>Reference computer with the hardware attached to it</li><li>Drivers</li><li>Windows image which is going to be deployed</li></ul><p>I think there’s not much to explain, so let’s analyse the actual process.</p><h1 id=what-we-are-going-to-do>What we are going to do?<a hidden class=anchor aria-hidden=true href=#what-we-are-going-to-do>#</a></h1><p>The problem with drivers is that they are often provided as one installation file which contains drivers with self installing package, which is convenient for a single user, but not for us, sysadmins.</p><p>I’ll show you on the example of GeForce drivers how to get and add drivers for your Windows image.</p><p>Therefore, we’re going to play smart, as always:</p><ol><li>Obtain the drivers</li><li>Extract the drivers so that we have access to *.inf files</li><li>Install the drivers to the actual Windows installation</li><li>Export installed drivers</li><li>Add exported drivers to the image</li></ol><p>Sounds good? Ready, steady, ENTER!</p><h1 id=on-your-reference-computer>On your reference computer<a hidden class=anchor aria-hidden=true href=#on-your-reference-computer>#</a></h1><p>Make sure that you have the relevant OS version. If you aim to add drivers to Windows 10, have a Windows 10 ready on your reference computer. It might be possible to have a cross Windows version drivers, but you’d need to test it thoroughly. I’ve seen many misbehaving computers just because of wrong drivers used with them.</p><p>You must plug-in the actual hardware to your reference computer. Very often single installation file contains multiple drivers used with multiple devices, and Windows will pick and install only the necessary ones.</p><h2 id=obtaining-the-drivers>Obtaining the drivers<a hidden class=anchor aria-hidden=true href=#obtaining-the-drivers>#</a></h2><p>The easiest way to get latest drivers is to get them from the manufacturer’s website, for your convenience I put links to NVidia, AMD and Intel drivers websites:</p><p>NVidia GeForce – <a href=http://www.nvidia.com/Download/index.aspx>http://www.nvidia.com/Download/index.aspx</a></p><p>AMD Radeon – <a href=http://support.amd.com/en-us/download>http://support.amd.com/en-us/download</a></p><p>Intel – <a href=https://downloadcenter.intel.com/product/80939/Graphics-Drivers>https://downloadcenter.intel.com/product/80939/Graphics-Drivers</a></p><p>Make sure you pick the appropriate Windows and hardware versions.</p><h2 id=extract-inf-files>Extract *.INF files<a hidden class=anchor aria-hidden=true href=#extract-inf-files>#</a></h2><p>Now we need to do something the usual user never does – intercept *.inf files which will allow us to add the drivers to the image. If your hardware manufacturer was nice to sysadmins  – by that I mean they provided already the *.inf files then simply skip this step.</p><p>Otherwise, there are 2 main ways of doing so.</p><h3 id=get-drivers-extracted-during-the-installation>Get drivers extracted during the installation<a hidden class=anchor aria-hidden=true href=#get-drivers-extracted-during-the-installation>#</a></h3><p>If, like in my example, drivers came prepackaged, you run the installation file. On the first screen I can see (and choose) where the installation files are going to be extracted.</p><p>I confirm where they’re going to be extracted, hit OK and once the extraction process has been completed – <strong>I don’t proceed with installation</strong>, not yet! Just let it be for time being.</p><p>Instead, I go to location where drivers were extracted and copy these files somewhere else.</p><h3 id=extract-the-files-yourself>Extract the files yourself<a hidden class=anchor aria-hidden=true href=#extract-the-files-yourself>#</a></h3><p>Sometimes you’re not offered with the extraction option and might need to do it yourself. For that purpose you’d need to use an archiver manager like 7-zip. Once installed, use 7-zip to open the installation file, and if you can find *.inf files inside, extract everything where needed.</p><p>7-zip download page: <a href=http://www.7-zip.org/download.html>http://www.7-zip.org/download.html</a></p><h3 id=if-the-above-ways-failed>If the above ways failed<a hidden class=anchor aria-hidden=true href=#if-the-above-ways-failed>#</a></h3><p>Then manufacturer for some reason made it difficult to you, but we still have a few ways of tracking where the actual files went.</p><p>You can often find files in:</p><ul><li>Root of system drive</li><li>Root of other partition</li><li>In Windows\Temp directory</li></ul><p>While browsing through the folders set your folder view to details and make the most recent files appear on top. You can even use Windows Search and specify last modification time to when you start installation and search for *.inf files.</p><p>Finally, you can use resource monitor to track where installation files makes changes to the hard drive.</p><p>You can also, export already installed drivers. While it’s really convenient, it’s not always that easy to find all drivers once deployed. I always would like you to have a full picture of the whole process.</p><h2 id=install-the-drivers>Install the drivers<a hidden class=anchor aria-hidden=true href=#install-the-drivers>#</a></h2><p>Now we can carry on with installation. But before doing so, I’d like you to open C:\Windows\System32\DriverStore\FileRepository folder and sort folders by “Date modified”, with the most recent on top. Note the time when you start the installation.</p><p>Once the installation of your drivers is commenced, you will notice as new folders are being created – these are drivers needed by your hardware. You can open these folders and see that there are plenty of files.</p><p>You can notice that those folders have a naming convention – name.inf<em>architecture</em>randomnumbers. You’re after the green part – name.inf That’s the name of the *.inf file you’d like to add to the image from your source folder – <strong>I’d like you to take a note of the green part of the name</strong>, as this will be essential to the next step.</p><p>I started installation of driver just after 22:20 on 24th of May, and as you can see I’ve highlighted the folders created just after that time. The files I’m going to look for are:</p><ul><li>Nv_dispi.inf</li><li>Basicrender.inf</li><li>Nvstusb.inf</li><li>Nvhda.inf</li></ul><p>If you’ve read my post about Mastering PNPUTIL, then you’ll know how to use this tool to add drivers to your image. Otherwise, stay with me.</p><h1 id=on-your-windows-image>On your Windows image<a hidden class=anchor aria-hidden=true href=#on-your-windows-image>#</a></h1><p>Let’s armour now the image in the right drivers we’ve just acquired. You will obviously need to make them available to the image, either by shared folder or copy/paste. I simply copied all installation files to C:\Temp\NVidia folder. Keep this folder open as we’re going to need it very soon. Like in 2 paragraphs soon.</p><p>I’m going to show you now 2 ways of installing drivers – with GUI and command line.</p><p>On the side note: if you’d like to confirm the files are being added to the driver store, simply open another Windows Explorer window and head towards C:\Windows\System32\DriverStore\FileRepository like you did on your physical machine as you did before.</p><h3 id=add-drivers-with-gui>Add drivers with GUI<a hidden class=anchor aria-hidden=true href=#add-drivers-with-gui>#</a></h3><p>While still in the folder with the drivers, simply type in the Search Box the filename of the first *.inf file of which I’ve asked you earlier on. In my case it is: Nv_dispi.inf. It should show up only one file. Now you’d like to right click the file, and choose Install.</p><p>Once completed you should receive a message stating that operation was successful.</p><p>Repeat the process for all drivers you need and that’s it – your image will come with drivers and system will install them automatically when hardware is detected.</p><p>You can confirm it by either going to FileRepository folder or Issuing <strong>pnputil.exe /e</strong> command in command prompt.</p><h3 id=add-drivers-with-command-prompt-8211-pnputil>Add drivers with Command prompt – PNPUTIL<a hidden class=anchor aria-hidden=true href=#add-drivers-with-command-prompt-8211-pnputil>#</a></h3><p>This way is slightly more complicated, nevertheless, let’s have a fun!</p><ol><li>Open elevated command prompt and use change directory to where your drivers are. In my case I issued the command <strong>CD C:\Temp\Nvidia</strong></li><li>Now type <strong>pnputil -a filename.inf /subdirs.</strong> In my case, it was <strong>pnputil -a nvstusb.inf /subdir</strong> This will tell PNPUTIL to search for this particular file in all sub directories of the current folder.</li><li>You should receive a message stating something like:Microsoft PnP UtilityProcessing inf : NV3DVisionUSB.Driver\nvstusb.inf<br>Driver package added successfully.<br>Published name : oem20.infTotal attempted: 1<br>Number successfully imported: 1</li><li>Repeat step 2 for all the files needed.</li></ol><p>That’s pretty much it.</p><h1 id=your-image-has-just-got-better>Your image has just got better!<a hidden class=anchor aria-hidden=true href=#your-image-has-just-got-better>#</a></h1><p>Deploying drivers had always been a mission before I’ve figured out the way I had shown you above. While there are some tools/scripts which can deliver the drivers in one way or another (and with the tools there is always a question of how reliable the tool is) having drivers injected to the image will always ensure the hardware is operational straight after deployment.</p><p>The 2 drawbacks of the whole process in the matter are: having a larger image and updating the drivers on the image. While the size and deployment time shouldn’t be a big deal nowadays, keeping up-to-date images is probably your responsibility after all. Not to mention the time saved for troubleshooting as this method works always, 100%, positive.</p><p>Did you enjoy reading the post or found it useful? I’m really keen to know! Let me know below in the comments section.</p><p>I’ve spent hours searching a way/tool capable of fully automatic drivers deployment to the computers of different hardware specs. I ended it up analysing and figuring out all this myself.</p><h1 id=tips>Tips<a hidden class=anchor aria-hidden=true href=#tips>#</a></h1><ul><li>If you can’t get the installation files of drivers, but you’ve got already a system where this hardware works, you can export by:<ul><li>open device manager identify the device you’d need the drivers for.</li><li>Double click on it, choose Details tab and choose “inf name” from property drop down menu, note down the OemXX.inf file name.</li><li>Create a folder, e.g. C:\Temp.</li><li>Then open elevated command prompt and type **pnputil /export-driver OemXX.inf C:\Temp **You can copy exported file to the missing computer and install them like we did before.</li></ul></li><li>If you’ve added the wrong driver, use <strong>PNPUTIL /delete-driver OemXX.inf /force</strong> to remove it from the driver store.</li><li>If after the installations of the drivers you cannot find some folders in the installation files (e.g. basicrender.inf) then don’t worry – these files might be default for Windows and system might use the while installing new drivers.</li><li>Someone can say, that you could use PNPUTIL to add all files *.INF to the driver store, but by the time when the actual process ends, you’ll notice that your driver store folder has swelled multiple times (in my case, that was 10GB after adding all *.INF files from GeForce folder!), containing many drivers which you actually don’t need.</li></ul><p>Main photo by <a href=https://unsplash.com/@ugmonk>Jeff Sheldon</a>.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://kamilpro.com/tags/custom/>custom</a></li><li><a href=https://kamilpro.com/tags/deployment/>deployment</a></li><li><a href=https://kamilpro.com/tags/driver/>driver</a></li><li><a href=https://kamilpro.com/tags/image/>image</a></li><li><a href=https://kamilpro.com/tags/windows/>Windows</a></li></ul><nav class=paginav><a class=prev href=https://kamilpro.com/need-energy-short-story-running/><span class=title>« Prev</span><br><span>Need for energy – my short story of running</span>
</a><a class=next href=https://kamilpro.com/start-batching-your-tasks/><span class=title>Next »</span><br><span>Do you check email every 2 minutes? Start batching your tasks</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Add any drivers to Windows – on example of GPU drivers on x" href="https://x.com/intent/tweet/?text=Add%20any%20drivers%20to%20Windows%20%e2%80%93%20on%20example%20of%20GPU%20drivers&amp;url=https%3a%2f%2fkamilpro.com%2fadd-any-drivers-to-windows-on-example-of-gpu-drivers%2f&amp;hashtags=custom%2cdeployment%2cdriver%2cimage%2cWindows"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Add any drivers to Windows – on example of GPU drivers on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fkamilpro.com%2fadd-any-drivers-to-windows-on-example-of-gpu-drivers%2f&amp;title=Add%20any%20drivers%20to%20Windows%20%e2%80%93%20on%20example%20of%20GPU%20drivers&amp;summary=Add%20any%20drivers%20to%20Windows%20%e2%80%93%20on%20example%20of%20GPU%20drivers&amp;source=https%3a%2f%2fkamilpro.com%2fadd-any-drivers-to-windows-on-example-of-gpu-drivers%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Add any drivers to Windows – on example of GPU drivers on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fkamilpro.com%2fadd-any-drivers-to-windows-on-example-of-gpu-drivers%2f&title=Add%20any%20drivers%20to%20Windows%20%e2%80%93%20on%20example%20of%20GPU%20drivers"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Add any drivers to Windows – on example of GPU drivers on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fkamilpro.com%2fadd-any-drivers-to-windows-on-example-of-gpu-drivers%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Add any drivers to Windows – on example of GPU drivers on whatsapp" href="https://api.whatsapp.com/send?text=Add%20any%20drivers%20to%20Windows%20%e2%80%93%20on%20example%20of%20GPU%20drivers%20-%20https%3a%2f%2fkamilpro.com%2fadd-any-drivers-to-windows-on-example-of-gpu-drivers%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Add any drivers to Windows – on example of GPU drivers on telegram" href="https://telegram.me/share/url?text=Add%20any%20drivers%20to%20Windows%20%e2%80%93%20on%20example%20of%20GPU%20drivers&amp;url=https%3a%2f%2fkamilpro.com%2fadd-any-drivers-to-windows-on-example-of-gpu-drivers%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Add any drivers to Windows – on example of GPU drivers on ycombinator" href="https://news.ycombinator.com/submitlink?t=Add%20any%20drivers%20to%20Windows%20%e2%80%93%20on%20example%20of%20GPU%20drivers&u=https%3a%2f%2fkamilpro.com%2fadd-any-drivers-to-windows-on-example-of-gpu-drivers%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://kamilpro.com/>Kamil Pro</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>